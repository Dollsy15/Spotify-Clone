document.addEventListener("DOMContentLoaded", () => {
    const playButtons = document.querySelectorAll(".fa-circle-play");
    const audioPlayer = document.getElementById("audioPlayer");

    playButtons.forEach(button => {
        button.addEventListener("click", () => {
            const songSrc = button.getAttribute("data-src");

            // If a new song is clicked, play it
            if (audioPlayer.src !== songSrc) {
                playButtons.forEach(btn => btn.classList.replace("fa-circle-pause", "fa-circle-play")); // Reset all buttons

                audioPlayer.src = songSrc;
                audioPlayer.play();
                button.classList.replace("fa-circle-play", "fa-circle-pause"); // Change icon to pause
            } else {
                // Toggle play/pause
                if (audioPlayer.paused) {
                    audioPlayer.play();
                    button.classList.replace("fa-circle-play", "fa-circle-pause");
                } else {
                    audioPlayer.pause();
                    button.classList.replace("fa-circle-pause", "fa-circle-play");
                }
            }
        });
    });

    // When song ends, reset all buttons to play
    audioPlayer.addEventListener("ended", () => {
        playButtons.forEach(btn => btn.classList.replace("fa-circle-pause", "fa-circle-play"));
    });
});
